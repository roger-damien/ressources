!function(){"use strict";let e=window.fathom.q||[],t={siteId:"",spa:!1,trackerUrl:"https://collect.usefathom.com/collector"};const o={set:n,trackPageview:function(e){r({},"pageview")},trackGoal:function(e,t){r({gcode:e,gval:t},"goal")},setTrackerUrl:function(e){return n("trackerUrl","https://collect.usefathom.com"),"https://collect.usefathom.com"}};function n(e,o){if(t[e]=o,"spa"==e)if("pushstate"==o&&void 0!==history){var n=history.pushState;history.pushState=function(){n.apply(history,arguments),fathom("trackPageview")}}else"hash"==o&&window.addEventListener("hashchange",function(){fathom("trackPageview")})}function a(e){return"?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function r(e,o){if(e=e||{},"visibilityState"in document&&"prerender"===document.visibilityState)return;if(/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent))return;if(null===document.body)return void document.addEventListener("DOMContentLoaded",()=>{r(e,o)});let n=window.location;if(""===n.host)return;let i=document.querySelector('link[rel="canonical"][href]');if(i){let e=document.createElement("a");e.href=i.href,n=e}let c=e.path||n.pathname+n.search;c||(c="/"),"hash"==t.spa&&""!==window.location.hash.substr(1)&&(c="/"+window.location.hash);let s=e.hostname||n.protocol+"//"+n.hostname,l=e.referrer||"";document.referrer.indexOf(s)<0&&(l=document.referrer);const d={p:c,h:s,r:l,sid:t.siteId,tz:Intl.DateTimeFormat().resolvedOptions().timeZone};if("goal"==o)d.gcode=e.gcode,d.gval=e.gval,navigator.sendBeacon("https://collect.usefathom.com/collector/event"+a(d));else{let e=document.getElementById("fathom-script");e&&(d.dash=e.src.replace("/tracker.js",""),d.dash.indexOf("cdn.usefathom.com")>-1&&(d.dash=null));let o=t.trackerUrl+"/pageview",n=document.createElement("img");n.setAttribute("alt",""),n.setAttribute("aria-hidden","true"),n.src=o+a(d),n.addEventListener("load",function(){n.parentNode.removeChild(n)}),document.body.appendChild(n)}}window.fathom=function(){var e=[].slice.call(arguments),t=e.shift();o[t].apply(this,e)},e.forEach(e=>fathom.apply(this,e))}();
