var _native=function(){var e={},t=window.localStorage,n=function(){if("true"===t.getItem("native_hidden")){return!(new Date/1e3-new Date(t.getItem("native_hidden_date"))/1e3>86400)||(t.removeItem("native_hidden_date"),!1)}};return{carbon:function(e){var t=document.createElement("script");return t.src="//cdn.carbonads.com/carbon.js?serve="+e.carbonZoneKey+"&placement="+e.placement,t.id="_carbonads_js",t},init:function(t,a){var r,o;if(o={carbonZoneKey:"",fallback:"",ignore:"false",placement:"",prefix:"native",targetClass:"native-ad"},e=void 0===(r=a)?o:(Object.keys(o).forEach(function(e,t){void 0===r[e]&&(r[e]=o[e])}),r),!0!==n()){var c="https://srv.buysellads.com/ads/"+t+".json?callback=_native_go";""!==e.placement&&(c+="&segment=placement:"+e.placement),"true"===e.ignore&&(c+="&ignore=yes");var l=document.createElement("script");l.src=c,document.getElementsByTagName("head")[0].appendChild(l)}else document.addEventListener("DOMContentLoaded",function(){_native.hide()})},hide:function(){t.setItem("native_hidden","true"),null===t.getItem("native_hidden_date")&&t.setItem("native_hidden_date",new Date),Array.from(document.querySelectorAll("."+e.targetClass)).forEach(function(t,n){var a=document.getElementsByClassName(e.targetClass)[n];a.innerHTML="",a.style.display="none"})},options:function(){return e},pixel:function(e,t){var n="";return e&&e.split("||").forEach(function(e,a){n+='<img src="'+e.replace("[timestamp]",t)+'" style="display:none;" height="0" width="0" />'}),n},sanitize:function(e){return e.filter(function(e){return Object.keys(e).length>0}).filter(function(e){return e.hasOwnProperty("statlink")})}}}(),_native_go=function(e){var t=_native.options(),n=_native.sanitize(e.ads),a=Array.from(document.querySelectorAll("."+t.targetClass));n.length<1?a.forEach(function(e,n){var a=document.getElementsByClassName(t.targetClass)[n];""===t.fallback&&""===t.carbonZoneKey||a.setAttribute("data-state","visible"),a.innerHTML=t.fallback,""!==t.carbonZoneKey&&a.appendChild(_native.carbon(t))}):a.forEach(function(e,a){var r=document.getElementsByClassName(t.targetClass)[a],o=r.innerHTML,c=t.prefix,l=n[a];if(l&&e){var i=o.replace(new RegExp("#"+c+"_via_link#","g"),l.ad_via_link).replace(new RegExp("#"+c+"_bg_color#","g"),l.backgroundColor).replace(new RegExp("#"+c+"_bg_color_hover#","g"),l.backgroundHoverColor).replace(new RegExp("#"+c+"_company#","g"),l.company).replace(new RegExp("#"+c+"_cta#","g"),l.callToAction).replace(new RegExp("#"+c+"_cta_bg_color#","g"),l.ctaBackgroundColor).replace(new RegExp("#"+c+"_cta_bg_color_hover#","g"),l.ctaBackgroundHoverColor).replace(new RegExp("#"+c+"_cta_color#","g"),l.ctaTextColor).replace(new RegExp("#"+c+"_cta_color_hover#","g"),l.ctaTextColorHover).replace(new RegExp("#"+c+"_desc#","g"),l.description).replace(new RegExp("#"+c+"_index#","g"),c+"-"+l.i).replace(new RegExp("#"+c+"_img#","g"),l.image).replace(new RegExp("#"+c+"_small_img#","g"),l.smallImage).replace(new RegExp("#"+c+"_link#","g"),l.statlink).replace(new RegExp("#"+c+"_logo#","g"),l.logo).replace(new RegExp("#"+c+"_color#","g"),l.textColor).replace(new RegExp("#"+c+"_color_hover#","g"),l.textColorHover).replace(new RegExp("#"+c+"_title#","g"),l.title);r.innerHTML="",r.innerHTML+=i+_native.pixel(l.pixel,l.timestamp),r.setAttribute("data-state","visible")}else r.innerHTML="",r.style.display="none"})};
